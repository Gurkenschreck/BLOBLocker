@model IEnumerable<BLOBLocker.Entities.Models.WebApp.PoolShare>

<h4>All pools</h4>
@if (Model.Count() > 0)
{
    <table border="1">
        <tr>
            <th>@Html.Label("Name")</th>
            <th>@Html.Label("Is active")</th>
            <th>@Html.Label("Creation date")</th>
            <th>@Html.Label("Assigned memory (MB)")</th>
            <th>@Html.Label("Participants")</th>
        </tr>
        @foreach (var fp in Model)
        {
            <tr style="text-align:center;">
                <td>@fp.Pool.Title</td>
                <td>@fp.Pool.IsActive</td>
                <td>@fp.Pool.CreatedOn</td>
                <td>@fp.Pool.AssignedMemory.Where(p => p.IsEnabled).Select(p => p.Space).Sum()</td>

                <td>@fp.Pool.Participants.Where(p => p.IsActive).Count()</td>
                <td>@Html.ActionLink("Browse", "Pool", new { puid = fp.Pool.UniqueIdentifier })</td>
            </tr>
        }
    </table>
}
else
{
    @HttpContext.GetGlobalResourceObject(null, "Label.NoPoolShares")
}