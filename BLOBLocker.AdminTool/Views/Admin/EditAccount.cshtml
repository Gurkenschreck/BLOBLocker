@model BLOBLocker.Code.ViewModels.AdminTool.AdminEditAccountModel
@{
    ViewBag.Title = "EditAccount";
}

<h2>EditAccount</h2>

@using (Html.BeginForm("AddOrChangeAccount", "Admin", new{ add=false }, FormMethod.Post)) { 
    <table>
        <tr>
            <th>@Html.LabelFor(p => p.ID)</th>
            <td>@Html.ValueFor(p => p.ID) @Html.HiddenFor(p => p.ID)</td>
        </tr>
        <tr>
            <th>@Html.LabelFor(p => p.Alias)</th>
            @if (Model.Alias != "Sysadm") { 
                <td>@Html.EditorFor(p => p.Alias)</td>
            }
            else
            {
                <td>@Html.ValueFor(p => p.Alias) @Html.HiddenFor(p => p.Alias)</td>
            }
        </tr>
        <tr>
            <th>@Html.LabelFor(p => p.Email)</th>
            <td>@Html.EditorFor(p => p.Email)</td>
        </tr>
        <tr>
            <th>@Html.LabelFor(p => p.Password)</th>
            <td>@Html.PasswordFor(p => p.Password)</td>
        </tr>
        <tr>
            <td>Active:</td>
            @if (Model.Alias != "Sysadm")
            {
                <td>@Html.CheckBoxFor(p => p.IsActive) @Html.LabelFor(p => p.IsActive)</td>
            }
            else
            {
                <td>@Html.ValueFor(p => p.IsActive) @Html.HiddenFor(p => p.IsActive)</td>
            }
        </tr>
        <tr>
            @if (Model.Alias != "Sysadm")
            {
                <td>@Html.CheckBoxFor(p => p.IsAdmin) @Html.LabelFor(p => p.IsAdmin)</td>
            }
            else
            {
                <td>@Html.CheckBoxFor(p => p.IsAdmin, new { onclick="return false;" }) @Html.LabelFor(p => p.IsAdmin)</td>
            }
            <td>@Html.CheckBoxFor(p => p.IsModerator) @Html.LabelFor(p => p.IsModerator)</td>
            <td>@Html.CheckBoxFor(p => p.IsTranslator) @Html.LabelFor(p => p.IsTranslator)</td>
        </tr>
        <tr>
            <td>@Html.AntiForgeryToken()</td>
            <td><button type="submit">Save changes</button></td>
        </tr>
    </table>
}